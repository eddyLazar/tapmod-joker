(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@sketchfab/viewer-api"), require("lodash"));
	else if(typeof define === 'function' && define.amd)
		define(["@sketchfab/viewer-api", "lodash"], factory);
	else if(typeof exports === 'object')
		exports["sketchfabApiWrapper"] = factory(require("@sketchfab/viewer-api"), require("lodash"));
	else
		root["sketchfabApiWrapper"] = factory(root["Sketchfab"], root["_"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE__sketchfab_viewer_api__, __WEBPACK_EXTERNAL_MODULE_lodash__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/colors.helper.js":
/*!******************************!*\
  !*** ./src/colors.helper.js ***!
  \******************************/
/*! exports provided: srgbToLinear, hexToRgb */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"srgbToLinear\", function() { return srgbToLinear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hexToRgb\", function() { return hexToRgb; });\nvar GAMMA = 2.4;\n\nfunction srgbToLinear1(c) {\n  var v = 0.0;\n\n  if (c < 0.04045) {\n    if (c >= 0.0) v = c * (1.0 / 12.92);\n  } else {\n    v = Math.pow((c + 0.055) * (1.0 / 1.055), GAMMA);\n  }\n\n  return v;\n}\n\nfunction srgbToLinear(c, out) {\n  var col = out || new Array(c.length);\n\n  if (c.length > 2 && c.length < 5) {\n    col[0] = srgbToLinear1(c[0]);\n    col[1] = srgbToLinear1(c[1]);\n    col[2] = srgbToLinear1(c[2]);\n    if (col.length > 3 && c.length > 3) col[3] = c[3];\n  } else {\n    throw new Error('Invalid color. Expected 3 or 4 components, but got ' + c.length);\n  }\n\n  return col;\n}\n\nfunction hexToRgb(hexColor) {\n  var m = hexColor.match(/^#([0-9a-f]{6})$/i);\n\n  if (m) {\n    return [parseInt(m[1].substr(0, 2), 16) / 255, parseInt(m[1].substr(2, 2), 16) / 255, parseInt(m[1].substr(4, 2), 16) / 255];\n  } else {\n    throw new Error('Invalid color: ' + hexColor);\n  }\n}\n\n\n\n//# sourceURL=webpack://sketchfabApiWrapper/./src/colors.helper.js?");

/***/ }),

/***/ "./src/defaultOptions.config.js":
/*!**************************************!*\
  !*** ./src/defaultOptions.config.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  camera: 0,\n  autostart: 1,\n  autospin: 0,\n  // 0.1\n  preload: 1,\n  annotations_visible: 0,\n  animation_autoplay: 1,\n  ui_infos: 0,\n  ui_annotations: 0,\n  ui_controls: 0,\n  // ui_animations: 1,\n  ui_stop: 0,\n  ui_help: 0,\n  ui_hint: 0,\n  ui_watermark: 0,\n  transparent: 1,\n  scrollwheel: 1,\n  double_click: 1 // \"orbit_constraint_zoom_in\": 14,\n  // \"orbit_constraint_zoom_out\": 80,\n  // \"orbit_constraint_pitch_down\" : 0.0\n\n});\n\n//# sourceURL=webpack://sketchfabApiWrapper/./src/defaultOptions.config.js?");

/***/ }),

/***/ "./src/imagBase64.helper.js":
/*!**********************************!*\
  !*** ./src/imagBase64.helper.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return toDataUrl; });\nfunction toDataUrl(url, callback) {\n  var xhr = new XMLHttpRequest();\n\n  xhr.onload = function () {\n    var reader = new FileReader();\n\n    reader.onloadend = function () {\n      callback(reader.result);\n    };\n\n    reader.readAsDataURL(xhr.response);\n  };\n\n  xhr.open('GET', url);\n  xhr.responseType = 'blob';\n  xhr.send();\n}\n\n//# sourceURL=webpack://sketchfabApiWrapper/./src/imagBase64.helper.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SketchfabViewApiWrapper; });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sketchfab_viewer_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sketchfab/viewer-api */ \"@sketchfab/viewer-api\");\n/* harmony import */ var _sketchfab_viewer_api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sketchfab_viewer_api__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _imagBase64_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imagBase64.helper */ \"./src/imagBase64.helper.js\");\n/* harmony import */ var _colors_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./colors.helper */ \"./src/colors.helper.js\");\n/* harmony import */ var _defaultOptions_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultOptions.config */ \"./src/defaultOptions.config.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\nvar SketchfabViewApiWrapper =\n/*#__PURE__*/\nfunction () {\n  function SketchfabViewApiWrapper(props) {\n    var _this = this;\n\n    _classCallCheck(this, SketchfabViewApiWrapper);\n\n    _defineProperty(this, \"init\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3() {\n      var iframe, client, _this$options$autosta, autostart;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              iframe = document.querySelector(_this.iframeQuery);\n              client = new _sketchfab_viewer_api__WEBPACK_IMPORTED_MODULE_1___default.a(_this.version, iframe);\n              _this$options$autosta = _this.options.autostart, autostart = _this$options$autosta === void 0 ? 0 : _this$options$autosta;\n              return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n                return client.init(_this.uid, _objectSpread({\n                  success: function () {\n                    var _success = _asyncToGenerator(\n                    /*#__PURE__*/\n                    regeneratorRuntime.mark(function _callee2(api) {\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _this.api = api;\n                              api.start();\n                              api.addEventListener('viewerready',\n                              /*#__PURE__*/\n                              _asyncToGenerator(\n                              /*#__PURE__*/\n                              regeneratorRuntime.mark(function _callee() {\n                                return regeneratorRuntime.wrap(function _callee$(_context) {\n                                  while (1) {\n                                    switch (_context.prev = _context.next) {\n                                      case 0:\n                                        _context.next = 2;\n                                        return _this._initPromises().then(function (results) {\n                                          resolve(_objectSpread({}, _this, api));\n                                        })[\"catch\"](function (error) {\n                                          console.error('Failed to init Api Wrapper', error);\n                                          reject(null);\n                                        });\n\n                                      case 2:\n                                        return _context.abrupt(\"return\", _context.sent);\n\n                                      case 3:\n                                      case \"end\":\n                                        return _context.stop();\n                                    }\n                                  }\n                                }, _callee);\n                              })));\n\n                            case 3:\n                            case \"end\":\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2);\n                    }));\n\n                    function success(_x) {\n                      return _success.apply(this, arguments);\n                    }\n\n                    return success;\n                  }(),\n                  error: function onError() {\n                    console.log('Viewer error');\n                  }\n                }, _this.options));\n              }));\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n\n    _defineProperty(this, \"_initPromises\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4() {\n      var promises;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              promises = [_this._loadMaterials(), _this._loadTextures(), _this._loadAnnotations(), _this._loadAnimations(), _this._loadNodes(), _this._setupCameraRotation()];\n              return _context4.abrupt(\"return\", Promise.all(promises).then(function (results) {\n                _this._setupMaterialsSwapping();\n\n                return results;\n              })[\"catch\"](function (error) {\n                console.error(error);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    })));\n\n    _defineProperty(this, \"_loadAnnotations\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee5() {\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              return _context5.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _this2 = this;\n\n                this.api.getAnnotationList(function (err, list) {\n                  _this2.annotations = list;\n\n                  if (err) {\n                    return reject(err);\n                  }\n\n                  resolve(list);\n                });\n              }.bind(_this)));\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    })));\n\n    _defineProperty(this, \"_loadAnimations\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee6() {\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              return _context6.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _this3 = this;\n\n                this.api.getAnimations(function (err, list) {\n                  _this3.animations = list;\n\n                  if (err) {\n                    return reject(err);\n                  }\n\n                  return resolve(list);\n                });\n              }.bind(_this)));\n\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    })));\n\n    _defineProperty(this, \"_loadNodes\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee7() {\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              return _context7.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _this4 = this;\n\n                this.api.getNodeMap(function (err, nodes) {\n                  if (err) {\n                    return reject(err);\n                  }\n\n                  _this4.nodes = nodes; // Ð“Ð¾Ñ‚Ð¾Ð² ÑÐ¿Ð¸ÑÐ¾Ðº Ñ Ð¸Ð¼ÐµÐ½Ð°Ð¼Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð² Ð¸ ID - Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ð»Ñ Ð²ÐºÐ»/Ð²Ñ‹ÐºÐ» Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ð¼ÐµÑˆÐ°\n\n                  var index = [];\n                  Object.keys(nodes).forEach(function (n) {\n                    var el = nodes[n];\n\n                    if (_typeof(index[el.name]) == 'object') {\n                      index[el.name].push(el.instanceID);\n                    } else {\n                      index[el.name] = [el.instanceID];\n                    }\n                  });\n                  _this4.nodes_index = index;\n                  resolve(index);\n                });\n              }.bind(_this)));\n\n            case 1:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    })));\n\n    _defineProperty(this, \"_loadMaterials\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (!_this.api) {\n                Promise.reject('getMaterialList: API not ready');\n              }\n\n              return _context8.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _this5 = this;\n\n                this.api.getMaterialList(function (err, materials) {\n                  if (err) {\n                    console.error(err);\n                    return reject(err);\n                  }\n\n                  _this5.materials = materials;\n                  return resolve(materials);\n                });\n              }.bind(_this)));\n\n            case 2:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    })));\n\n    _defineProperty(this, \"_loadTextures\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee9() {\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              if (!_this.api) {\n                Promise.reject('getTextureList: API not ready');\n              }\n\n              return _context9.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _this6 = this;\n\n                this.api.getTextureList(function (err, list) {\n                  _this6.textures = list;\n\n                  if (err) {\n                    console.error(err);\n                    return reject(err);\n                  }\n\n                  return resolve(list);\n                });\n              }.bind(_this)));\n\n            case 2:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    })));\n\n    _defineProperty(this, \"_setupCameraRotation\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee10() {\n      return regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              if (!_this.api) {\n                Promise.reject('getCameraLookAt: API not ready');\n              }\n\n              return _context10.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var _this7 = this;\n\n                this.api.getCameraLookAt(function (err, camera) {\n                  _this7.pov = camera.position; // Camera's point of view\n\n                  _this7.tp = camera.target; // Target point of camera's view\n                  // Calculate inital angle and radius to start rotation\n                  // from the initial positon responding to target point\n\n                  _this7.radius = Math.sqrt(Math.pow(_this7.pov[0] - _this7.tp[0], 2) + Math.pow(_this7.pov[1] - _this7.tp[1], 2) + Math.pow(_this7.pov[2] - _this7.tp[2], 2));\n                  _this7.angle = Math.acos(_this7.pov[0] / _this7.radius) * 180 / Math.PI;\n                  resolve({\n                    radius: _this7.radius,\n                    angle: _this7.angle\n                  });\n                });\n              }.bind(_this)));\n\n            case 2:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    })));\n\n    _defineProperty(this, \"_setupMaterialsSwapping\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee11() {\n      var orderedNames;\n      return regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              if (_this.api && _this.materials) {\n                _context11.next = 2;\n                break;\n              }\n\n              return _context11.abrupt(\"return\", Promise.reject('API not ready'));\n\n            case 2:\n              orderedNames = _toConsumableArray(Array(_this.materialMaxSources)).map(function (_, i) {\n                return \"\".concat(_this.materialPrefixSourceToSwap, \"_\").concat(('0' + (i + 1)).slice(-2));\n              });\n              return _context11.abrupt(\"return\", new Promise(function (resolve, reject) {\n                this.materialNamesToSwap = this.materialNamesToSwap || this.materials.map(function (m) {\n                  return m.name;\n                }).filter(function (n) {\n                  return orderedNames.includes(n);\n                }).sort(function (n, m) {\n                  return n < m;\n                });\n                resolve(this.materialNamesToSwap);\n              }.bind(_this)));\n\n            case 4:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    })));\n\n    _defineProperty(this, \"_setMaterialColor\", function (materialName, hexColor) {\n      var material = _this._getMaterialByName(materialName);\n\n      var linearColor = Object(_colors_helper__WEBPACK_IMPORTED_MODULE_3__[\"srgbToLinear\"])(Object(_colors_helper__WEBPACK_IMPORTED_MODULE_3__[\"hexToRgb\"])(hexColor));\n      material.channels.AlbedoPBR.color = linearColor;\n      material.channels.DiffusePBR.color = linearColor;\n      material.channels.DiffuseColor.color = linearColor;\n      material.channels.AlbedoPBR.texture = undefined;\n      material.channels.DiffusePBR.texture = undefined;\n      material.channels.DiffuseColor.texture = undefined;\n\n      _this.api.setMaterial(material, function (err, result) {\n        if (err) {\n          console.error(err);\n        }\n      });\n    });\n\n    _defineProperty(this, \"_setMaterialTexture\", function (materialName, tid, texCoordUnit) {\n      var material = _this._getMaterialByName(materialName);\n\n      material.channels.AlbedoPBR.texture = _objectSpread({}, material.channels.AlbedoPBR.texture || {}, {\n        uid: tid\n      });\n\n      if (texCoordUnit) {\n        material.channels.NormalMap.texture.texCoordUnit = texCoordUnit;\n        material.channels.CavityPBR.texture.texCoordUnit = texCoordUnit;\n        material.channels.AlbedoPBR.texture.texCoordUnit = texCoordUnit;\n      }\n\n      _this.api.setMaterial(material, function (err, result) {\n        if (err) {\n          console.error(err);\n        }\n      });\n    });\n\n    _defineProperty(this, \"_setMaterialChannelTexture\", function (materialName, tid, texCoordUnit) {\n      var channel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'AlbedoPBR';\n\n      var material = _this._getMaterialByName(materialName);\n\n      material.channels[channel].texture = _objectSpread({}, material.channels[channel].texture || {}, {\n        uid: tid\n      });\n\n      if (texCoordUnit) {\n        material.channels.NormalMap.texture.texCoordUnit = texCoordUnit;\n        material.channels.CavityPBR.texture.texCoordUnit = texCoordUnit;\n        material.channels.AlbedoPBR.texture.texCoordUnit = texCoordUnit;\n      }\n\n      _this.api.setMaterial(material, function (err, result) {\n        if (err) {\n          console.error(err);\n        }\n      });\n    });\n\n    _defineProperty(this, \"_addTexture\", function (url) {\n      return new Promise(function (resolve, reject) {\n        this.api.addTexture(url, function (err, textureUid) {\n          if (err) {\n            return reject(err);\n          }\n\n          return resolve(textureUid);\n        });\n      }.bind(_this));\n    });\n\n    _defineProperty(this, \"_getMaterialByName\", function (materialName, context) {\n      context = context || _this.materials;\n      return context.reduce(function (acc, cur) {\n        if (cur.name === materialName) {\n          return cur;\n        }\n\n        return acc;\n      }, null);\n    });\n\n    _defineProperty(this, \"_getAnnotationByName\", function (name) {\n      if (!_this.annotations) {\n        return null;\n      }\n\n      var obj = null;\n\n      _this.annotations.forEach(function (item, i) {\n        if (item.name === name) {\n          item.index = i;\n          obj = item;\n        }\n      });\n\n      return obj;\n    });\n\n    _defineProperty(this, \"_getAnimationByName\", function (name) {\n      if (!_this.animations) {\n        return null;\n      }\n\n      var obj = null;\n\n      _this.animations.forEach(function (item, i) {\n        if (item[1] === name) {\n          // item.index = i;\n          obj = item;\n        }\n      });\n\n      return obj;\n    });\n\n    _defineProperty(this, \"_highlightNode\", function (node, color) {\n      var y = node.material;\n      y.channels.EmitColor.factor = 1;\n      y.channels.EmitColor.enable = true;\n      y.channels.EmitColor.color = color;\n\n      _this.api.setMaterial(y);\n    });\n\n    _defineProperty(this, \"_unhighlightNode\", function (node, color) {\n      var y = node.material;\n      y.channels.EmitColor.factor = 1;\n      y.channels.EmitColor.enable = false;\n      y.channels.EmitColor.color = color;\n\n      _this.api.setMaterial(y);\n    });\n\n    _defineProperty(this, \"startHiglightNodeOnHover\", function () {\n      var linearColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0.1, 0.1, 0.3];\n\n      _this.api.addEventListener('nodeMouseEnter', function (info) {\n        return _this._highlightNode(info, linearColor);\n      }, {\n        pick: 'fast'\n      });\n\n      _this.api.addEventListener('nodeMouseLeave', function (info) {\n        return _this._unhighlightNode(info, linearColor);\n      }, {\n        pick: 'fast'\n      });\n    });\n\n    _defineProperty(this, \"stopHiglightNodeOnHover\", function () {\n      var linearColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0.1, 0.1, 0.3];\n\n      _this.api.removeEventListener('nodeMouseEnter', function (info) {\n        return _this._highlightNode(info, linearColor);\n      }, {\n        pick: 'fast'\n      });\n\n      _this.api.removeEventListener('nodeMouseLeave', function (info) {\n        return _this._unhighlightNode(info, linearColor);\n      }, {\n        pick: 'fast'\n      });\n    });\n\n    _defineProperty(this, \"setTextures\", function (_ref11) {\n      var _ref11$pairs = _ref11.pairs,\n          pairs = _ref11$pairs === void 0 ? [] : _ref11$pairs,\n          target = _ref11.target,\n          _ref11$domain = _ref11.domain,\n          domain = _ref11$domain === void 0 ? window.location.origin : _ref11$domain,\n          _ref11$assets_dir = _ref11.assets_dir,\n          assets_dir = _ref11$assets_dir === void 0 ? '' : _ref11$assets_dir,\n          _ref11$useBase = _ref11.useBase64,\n          useBase64 = _ref11$useBase === void 0 ? true : _ref11$useBase,\n          texCoordUnit = _ref11.texCoordUnit;\n      var tid = false;\n      pairs.forEach(function (p) {\n        var channel = p.channel,\n            url = p.url;\n        var imageUrl = domain + assets_dir + url;\n\n        if (useBase64) {\n          Object(_imagBase64_helper__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(imageUrl, function (base64) {\n            _this._addTexture(base64).then(function (result) {\n              tid = result;\n\n              if (tid) {\n                _this._setMaterialChannelTexture(target, tid, texCoordUnit, channel);\n              }\n            });\n          });\n        } else {\n          _this._addTexture(imageUrl).then(function (result) {\n            tid = result;\n\n            if (tid) {\n              _this._setMaterialChannelTexture(target, tid, texCoordUnit, channel);\n            }\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"setTexture\", function (_ref12) {\n      var url = _ref12.url,\n          target = _ref12.target,\n          _ref12$domain = _ref12.domain,\n          domain = _ref12$domain === void 0 ? window.location.origin : _ref12$domain,\n          _ref12$assets_dir = _ref12.assets_dir,\n          assets_dir = _ref12$assets_dir === void 0 ? '' : _ref12$assets_dir,\n          _ref12$useBase = _ref12.useBase64,\n          useBase64 = _ref12$useBase === void 0 ? true : _ref12$useBase,\n          texCoordUnit = _ref12.texCoordUnit;\n      var tid = false;\n      var imageUrl = domain + assets_dir + url;\n\n      if (useBase64) {\n        return Object(_imagBase64_helper__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(imageUrl, function (base64) {\n          return _this._addTexture(base64).then(function (result) {\n            tid = result;\n\n            if (tid) {\n              _this._setMaterialTexture(target, tid, texCoordUnit);\n            }\n          });\n        });\n      }\n\n      return _this._addTexture(imageUrl).then(function (result) {\n        tid = result;\n\n        if (tid) {\n          _this._setMaterialTexture(target, tid, texCoordUnit);\n        }\n      });\n    });\n\n    _defineProperty(this, \"swapMaterial\", function (_ref13) {\n      var source = _ref13.source,\n          target = _ref13.target;\n      // Ð’ÑÐµÐ³Ð´Ð° Ñ…Ñ€Ð°Ð½Ð¸Ð¼ ÐºÐ¾Ð¿Ð¸ÑŽ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²\n      _this.materials_target = _this.materials_target || _toConsumableArray(_this.materials);\n\n      var targetMaterial = _this._getMaterialByName(target);\n\n      var sourceMaterial = _this._getMaterialByName(source, _this.materials_target); // targetMaterial.channels = {...sourceMaterial.channels};\n\n\n      targetMaterial.channels = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.clone(sourceMaterial.channels, true); // console.warn(targetMaterial);\n\n      _this.api.setMaterial(targetMaterial, function (err, result) {\n        if (err) {\n          console.error(err);\n        }\n      });\n    });\n\n    _defineProperty(this, \"node_hide\",\n    /*#__PURE__*/\n    function () {\n      var _ref14 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12(name) {\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _this.nodes_index[name].forEach(function (id) {\n                  _this.api.hide(id);\n                });\n\n              case 1:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n\n      return function (_x2) {\n        return _ref14.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"node_show\",\n    /*#__PURE__*/\n    function () {\n      var _ref15 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee13(name) {\n        return regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _this.nodes_index[name].forEach(function (id) {\n                  _this.api.show(id);\n                });\n\n              case 1:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }));\n\n      return function (_x3) {\n        return _ref15.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"extendAnnotations\", function (params) {\n      _this.api.addEventListener('annotationFocus', function (index) {\n        console.log('Reached annotation ' + index);\n        var annot = _this.annotations[index];\n        var prop = params[annot.name] || false;\n        console.warn(annot.name);\n\n        if (prop && typeof prop.onStart !== 'undefined') {\n          console.warn('ANIMATION ' + prop.onStart.animation);\n\n          var anim = _this._getAnimationByName(prop.onStart.animation);\n\n          console.warn([prop, anim]);\n\n          _this.api.setCurrentAnimationByUID(anim[0]);\n\n          _this.api.seekTo(0);\n\n          _this.api.setCycleMode(prop.onStart.cycle);\n\n          _this.api.setSpeed(1);\n\n          _this.api.play();\n        }\n      });\n\n      _this.api.addEventListener('annotationBlur', function (index) {\n        console.log('Left annotation ' + index);\n\n        _this.api.pause();\n      });\n    });\n\n    _defineProperty(this, \"goToNextAnnotation\", function () {\n      var len = _this.annotations.length;\n      _this.currentAnnot++;\n      if (_this.currentAnnot >= len) _this.currentAnnot = 0;\n\n      _this.api.gotoAnnotation(_this.currentAnnot);\n    });\n\n    _defineProperty(this, \"goToPrevAnnotation\", function () {\n      var len = _this.annotations.length;\n      _this.currentAnnot--;\n      if (_this.currentAnnot <= 0) _this.currentAnnot = len;\n\n      _this.api.gotoAnnotation(_this.currentAnnot);\n    });\n\n    _defineProperty(this, \"setColor\", function (_ref16) {\n      var material = _ref16.material,\n          hexColor = _ref16.hexColor;\n      console.warn([material, hexColor]);\n\n      if (!Array.isArray(material)) {\n        material = [material];\n      }\n\n      material.forEach(function (mat) {\n        _this._setMaterialColor(mat, hexColor);\n      });\n    });\n\n    _defineProperty(this, \"moveCameraOnDeg\", function (_ref17) {\n      var _ref17$degree = _ref17.degree,\n          degree = _ref17$degree === void 0 ? _this.degree : _ref17$degree,\n          _ref17$tp = _ref17.tp,\n          tp = _ref17$tp === void 0 ? _this.tp : _ref17$tp,\n          _ref17$radius = _ref17.radius,\n          radius = _ref17$radius === void 0 ? _this.radius : _ref17$radius,\n          _ref17$duration = _ref17.duration,\n          duration = _ref17$duration === void 0 ? _this.cameraEaseDuration : _ref17$duration;\n      var rads = degree * Math.PI / 180;\n\n      _this.api.lookat([tp[0] + radius * Math.cos(rads), tp[1] + radius * Math.sin(rads), tp[2]], tp, duration);\n    });\n\n    _defineProperty(this, \"startRotationLeft\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n      if (_this.api) {\n        _this.stopAutoRotation(); // If auto rotate is active - stop it\n\n\n        _this.rotateLeftInterval = setInterval(function () {\n          _this.angle += _this.rotationDegreeInterval;\n\n          _this.moveCameraOnDeg({\n            pov: _this.pov,\n            tp: _this.tp,\n            radius: _this.radius,\n            degree: _this.angle,\n            duration: _this.cameraEaseDuration\n          });\n        }, _this.rotationTimeInterval);\n        cb();\n      }\n    });\n\n    _defineProperty(this, \"stopRotationLeft\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n      if (_this.rotateLeftInterval) clearInterval(_this.rotateLeftInterval);\n      cb();\n    });\n\n    _defineProperty(this, \"startRotationRight\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n      if (_this.api) {\n        _this.stopAutoRotation();\n\n        _this.rotateRightInterval = setInterval(function () {\n          _this.angle -= _this.rotationDegreeInterval;\n\n          _this.moveCameraOnDeg({\n            pov: _this.pov,\n            tp: _this.tp,\n            radius: _this.radius,\n            degree: _this.angle,\n            duration: _this.cameraEaseDuration\n          });\n        }, _this.rotationTimeInterval);\n        cb();\n      }\n    });\n\n    _defineProperty(this, \"stopRotationRight\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n      if (_this.rotateRightInterval) clearInterval(_this.rotateRightInterval);\n      cb();\n    });\n\n    _defineProperty(this, \"startAutoRotation\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n      if (_this.api) {\n        var up = true;\n        _this.rotateAutoInterval = setInterval(function () {\n          if (up) {\n            if (_this.angle < 180) {\n              _this.angle += _this.rotationDegreeInterval;\n            } else if (_this.angle >= 180) {\n              up = false;\n              _this.angle -= _this.rotationDegreeInterval;\n            }\n          } else {\n            if (_this.angle > -180) {\n              _this.angle -= _this.rotationDegreeInterval;\n            } else if (_this.angle <= -180) {\n              up = true;\n              _this.angle += _this.rotationDegreeInterval;\n            }\n          }\n\n          _this.moveCameraOnDeg({\n            pov: _this.pov,\n            tp: _this.tp,\n            radius: _this.radius,\n            degree: _this.angle,\n            duration: _this.cameraEaseDuration\n          });\n        }, _this.rotationTimeInterval);\n        cb();\n      }\n    });\n\n    _defineProperty(this, \"stopAutoRotation\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n      if (_this.rotateAutoInterval) {\n        clearInterval(_this.rotateAutoInterval);\n      }\n\n      cb();\n    });\n\n    _defineProperty(this, \"startAutoSwapping\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n      if (_this.api) {\n        if (!_this.materialIndex) _this.materialIndex = 0;\n        _this.autoSwapInterval = setInterval(function () {\n          _this.swapMaterial({\n            source: _this.materialNamesToSwap[_this.materialIndex],\n            target: _this.materialTargetToSwap\n          });\n\n          _this.materialIndex++;\n\n          if (_this.materialIndex >= _this.materialNamesToSwap.length) {\n            _this.materialIndex = 0;\n          }\n        }, _this.materialSwapTimeInterval);\n        cb();\n      }\n    });\n\n    _defineProperty(this, \"stopAutoSwapping\", function () {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n      if (_this.autoSwapInterval) {\n        clearInterval(_this.autoSwapInterval);\n      }\n\n      cb();\n    });\n\n    var _props$useSingleton = props.useSingleton,\n        useSingleton = _props$useSingleton === void 0 ? true : _props$useSingleton,\n        _props$version = props.version,\n        version = _props$version === void 0 ? '1.5.1' : _props$version,\n        _props$iframeQuery = props.iframeQuery,\n        iframeQuery = _props$iframeQuery === void 0 ? '#api-frame' : _props$iframeQuery,\n        _props$uid = props.uid,\n        uid = _props$uid === void 0 ? null : _props$uid,\n        _props$options = props.options,\n        options = _props$options === void 0 ? _defaultOptions_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"] : _props$options,\n        _props$rotationDegree = props.rotationDegreeInterval,\n        rotationDegreeInterval = _props$rotationDegree === void 0 ? 6 : _props$rotationDegree,\n        _props$rotationTimeIn = props.rotationTimeInterval,\n        rotationTimeInterval = _props$rotationTimeIn === void 0 ? 100 : _props$rotationTimeIn,\n        _props$cameraEaseDura = props.cameraEaseDuration,\n        cameraEaseDuration = _props$cameraEaseDura === void 0 ? 2 : _props$cameraEaseDura,\n        _props$materialNamesT = props.materialNamesToSwap,\n        materialNamesToSwap = _props$materialNamesT === void 0 ? null : _props$materialNamesT,\n        _props$materialTarget = props.materialTargetToSwap,\n        materialTargetToSwap = _props$materialTarget === void 0 ? 'surface_01' : _props$materialTarget,\n        _props$materialPrefix = props.materialPrefixSourceToSwap,\n        materialPrefixSourceToSwap = _props$materialPrefix === void 0 ? 'mat' : _props$materialPrefix,\n        _props$materialMaxSou = props.materialMaxSources,\n        materialMaxSources = _props$materialMaxSou === void 0 ? 6 : _props$materialMaxSou,\n        _props$materialSwapTi = props.materialSwapTimeInterval,\n        materialSwapTimeInterval = _props$materialSwapTi === void 0 ? 1000 : _props$materialSwapTi; // Singleton pattern\n\n    if (useSingleton && SketchfabViewApiWrapper._instance) return SketchfabViewApiWrapper._instance;\n    this.version = version;\n    this.iframeQuery = iframeQuery;\n    this.uid = uid;\n    this.options = options; //- Params for camera rotation feature\n\n    this.rotationDegreeInterval = rotationDegreeInterval;\n    this.tp = 0;\n    this.pov = 0;\n    this.angle = 0;\n    this.radius = null;\n    this.rotationTimeInterval = rotationTimeInterval; // ms\n\n    this.cameraEaseDuration = cameraEaseDuration; // seconds\n    //-\n    //- Params for materials swap feature\n\n    this.materialTargetToSwap = materialTargetToSwap;\n    this.materialPrefixSourceToSwap = materialPrefixSourceToSwap;\n    this.materialMaxSources = materialMaxSources;\n    this.materialNamesToSwap = materialNamesToSwap; // Actually will be replaced during initialization\n\n    this.materialSwapTimeInterval = materialSwapTimeInterval; // ms\n    //-\n\n    this.api = null;\n    this.nodes = false;\n    this.nodes_index = false;\n    this.materials = false;\n    this.textures = false;\n    this.annotations = false;\n    this.animations = false;\n    this.currentAnnot = 1;\n    SketchfabViewApiWrapper._instance = this;\n  }\n\n  _createClass(SketchfabViewApiWrapper, [{\n    key: \"instance\",\n    get: function get() {\n      return SketchfabViewApiWrapper._instance;\n    }\n  }]);\n\n  return SketchfabViewApiWrapper;\n}();\n\n\n\n//# sourceURL=webpack://sketchfabApiWrapper/./src/index.js?");

/***/ }),

/***/ "@sketchfab/viewer-api":
/*!******************************************************************************************************************************************!*\
  !*** external {"commonjs":"@sketchfab/viewer-api","commonjs2":"@sketchfab/viewer-api","amd":"@sketchfab/viewer-api","root":"Sketchfab"} ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE__sketchfab_viewer_api__;\n\n//# sourceURL=webpack://sketchfabApiWrapper/external_%7B%22commonjs%22:%22@sketchfab/viewer-api%22,%22commonjs2%22:%22@sketchfab/viewer-api%22,%22amd%22:%22@sketchfab/viewer-api%22,%22root%22:%22Sketchfab%22%7D?");

/***/ }),

/***/ "lodash":
/*!*************************************************************************************!*\
  !*** external {"commonjs":"lodash","commonjs2":"lodash","amd":"lodash","root":"_"} ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n\n//# sourceURL=webpack://sketchfabApiWrapper/external_%7B%22commonjs%22:%22lodash%22,%22commonjs2%22:%22lodash%22,%22amd%22:%22lodash%22,%22root%22:%22_%22%7D?");

/***/ })

/******/ });
});
